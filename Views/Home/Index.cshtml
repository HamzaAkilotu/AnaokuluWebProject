@{
    ViewData["Title"] = "Ana Sayfa";
}

<!-- Google Fonts: Baloo 2 ve Fredoka -->
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&family=Fredoka:wght@400;700&display=swap" rel="stylesheet">

<style>
    .info-cards {
        display: flex;
        justify-content: center;
        gap: 32px;
        margin: 48px 0 48px 0;
    }
    .info-card {
        background: var(--primary-color);
        color: var(--white);
        border: 2px solid var(--white);
        border-radius: 18px;
        padding: 32px 24px;
        width: 340px;
        min-height: 220px;
        max-width: 340px;
        min-width: 340px;
        box-shadow: 0 2px 12px #80002020;
        font-family: 'Comic Neue', 'Fredoka One', cursive, sans-serif;
        text-align: center;
        transition: transform 0.2s, box-shadow 0.2s;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    .info-card-title {
        font-size: 1.4rem;
        font-weight: 700;
        margin-bottom: 12px;
        color: var(--white);
        font-family: 'Fredoka One', 'Comic Neue', cursive, sans-serif;
    }
    .info-card-desc {
        font-size: 1.08rem;
        color: var(--white);
        font-family: 'Comic Neue', 'Fredoka One', cursive, sans-serif;
    }
    .info-card:hover {
        transform: translateY(-6px) scale(1.03);
        box-shadow: 0 6px 24px #80002040;
    }
    .hero-section,
    .info-cards,
    .menu-section,
    .gallery-section,
    .announcements-section {
        margin-top: 48px;
        margin-bottom: 48px;
    }
    .menu-section {
        background: var(--primary-color);
        color: var(--white);
        border-radius: 18px;
        padding: 36px 0 32px 0;
        text-align: center;
        font-family: 'Comic Neue', 'Fredoka One', cursive, sans-serif;
        width: 80%;
        box-shadow: 0 2px 12px #80002020;
        margin: 48px auto 48px auto;
    }
    .menu-title {
        font-size: 2.1rem;
        font-weight: 700;
        margin-bottom: 10px;
        color: var(--white);
        font-family: 'Fredoka One', 'Comic Neue', cursive, sans-serif;
    }
    .menu-desc {
        font-size: 1.1rem;
        color: var(--white);
        margin-bottom: 18px;
        font-family: 'Comic Neue', 'Fredoka One', cursive, sans-serif;
    }
    .btn-menu {
        background: var(--white);
        color: var(--primary-color);
        font-weight: 700;
        border-radius: 10px;
        padding: 10px 28px;
        font-size: 1.1rem;
        border: none;
        font-family: 'Comic Neue', 'Fredoka One', cursive, sans-serif;
        transition: background 0.2s, color 0.2s;
        text-decoration: underline;
    }
    .btn-menu:hover {
        background: #ffe082;
        color: var(--primary-color);
    }
    .gallery-section {
        margin: 48px 0 48px 0;
        text-align: center;
    }
    .gallery-grid {
        display: flex;
        justify-content: center;
        gap: 24px;
        margin-bottom: 10px;
    }
    .gallery-img {
        width: 270px;
        height: 200px;
        object-fit: cover;
        border-radius: 18px;
        border: 3px solid var(--primary-color);
        box-shadow: 0 2px 12px #80002020;
        background: #fff;
    }
    .gallery-caption {
        color: var(--primary-color);
        font-size: 1.1rem;
        font-family: 'Comic Neue', 'Fredoka One', cursive, sans-serif;
        margin-top: 8px;
        font-weight: 600;
        letter-spacing: 0.5px;
    }
    .announcements-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 48px 0 48px 0;
    }
    .announcements-box {
        background: #fff;
        border: 3px solid var(--primary-color);
        border-radius: 24px;
        box-shadow: 0 2px 16px #80002020;
        width: 480px;
        max-width: 95vw;
        padding: 0 0 24px 0;
        margin: 0 auto;
        position: relative;
    }
    .announcements-title {
        position: absolute;
        top: -28px;
        left: 50%;
        transform: translateX(-50%);
        background: var(--primary-color);
        color: #fff;
        font-size: 1.5rem;
        font-family: 'Fredoka One', 'Comic Neue', cursive, sans-serif;
        font-weight: 700;
        padding: 8px 36px;
        border-radius: 18px;
        box-shadow: 0 2px 8px #80002020;
        letter-spacing: 1px;
    }
    .announcements-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 36px;
    }
    .announcements-table th, .announcements-table td {
        padding: 10px 12px;
        text-align: left;
        font-family: 'Comic Neue', 'Fredoka One', cursive, sans-serif;
        color: var(--primary-color);
        border-bottom: 1px solid #eee;
    }
    .announcements-table th {
        background: #f8e6ef;
        color: var(--primary-color);
        font-size: 1.1rem;
        font-weight: 700;
    }
    .announcement-card, .duyuru-item {
        border: none !important;
        background: none !important;
        box-shadow: none !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    .hero-section {
        background: url('/images/AnaSayfa4.jpg') center center/cover no-repeat;
        border-radius: 36px;
        box-shadow: 0 4px 32px #80002040;
        padding: 64px 32px 56px 32px;
        max-width: 1100px;
        margin: 48px auto 48px auto;
        min-height: 520px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
    }
    .hero-section::before {
        content: '';
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(255,255,255,0.01);
        border-radius: 36px;
        z-index: 1;
    }
    .tahta-icerik {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 62%;
        margin: 0 auto;
        padding: 32px 0;
        z-index: 2;
        pointer-events: auto;
    }
    .hero-title {
        color: var(--primary-color);
        font-family: 'Fredoka One', 'Comic Neue', cursive, sans-serif;
        font-size: 2.5rem;
        font-weight: 700;
        text-align: center;
        margin-bottom: 24px;
        text-shadow: 0 2px 12px #fff8;
        letter-spacing: 1px;
        pointer-events: auto;
    }
    .hero-desc {
        color: var(--primary-color);
        font-family: 'Comic Neue', 'Fredoka One', cursive, sans-serif;
        font-size: 1.15rem;
        text-align: center;
        margin-bottom: 24px;
        text-shadow: 0 1px 6px #fff8;
        pointer-events: auto;
    }
    .btn-main {
        background: var(--primary-color);
        color: #fff;
        font-family: 'Comic Neue', 'Fredoka One', cursive, sans-serif;
        font-weight: 700;
        border-radius: 18px;
        padding: 14px 38px;
        font-size: 1.15rem;
        border: none;
        box-shadow: 0 2px 8px #80002020;
        transition: background 0.2s, color 0.2s, box-shadow 0.2s;
        text-decoration: underline;
        margin-top: 8px;
        pointer-events: auto;
    }
    .btn-main:hover {
        background: #a8324a;
        color: #fff;
        box-shadow: 0 4px 16px #80002040;
    }
</style>

<div class="container-main">
    <!-- HERO -->
    <section class="hero-section">
        <div class="tahta-icerik">
            <div class="hero-title">Her çocuk bir kaşiftir. Ona sadece yön vermek gerekir.</div>
            <div class="hero-desc">Bilge Kaşifler Anaokulu, çocukların potansiyelini sevgiyle ve güvenle keşfetmesini sağlayan bir eğitim yuvasıdır.</div>
            <a href="/Home/Hakkimizda" class="btn-main">Bizi Tanıyın</a>
        </div>
    </section>

    <!-- 3 Kartlık Bilgi Alanı -->
    <section class="info-cards">
        <div class="info-card">
            <div class="info-card-title">Aktif Öğrenme Deneyimi</div>
            <div class="info-card-desc">Deneyerek, yaşayarak ve keşfederek öğrenme sistemini benimsiyoruz.</div>
        </div>
        <div class="info-card">
            <div class="info-card-title">Aile Sıcaklığı</div>
            <div class="info-card-desc">Her çocuğa bireysel ilgi gösterilen, sevgi dolu bir ortam sunuyoruz.</div>
        </div>
        <div class="info-card">
            <div class="info-card-title">Fiziksel ve Zihinsel Gelişim</div>
            <div class="info-card-desc">Oyun, sanat ve bilimle gelişimi destekleyen zengin içerikler.</div>
        </div>
    </section>

    <!-- Yemek Listesi Önizleme -->
    <!-- Bu bölüm kaldırıldı -->

    <!-- Duyurular ve Etkinlikler Bölümü Yan Yana -->
    <section class="duyuru-etkinlik-row" style="display:flex; gap:64px; justify-content:center; align-items:flex-start; max-width:1100px; margin:48px auto 48px auto;">
        <!-- Duyurular -->
        <div style="flex:1; background:#fff; border-radius:18px; box-shadow:0 2px 12px #80002018; padding:40px 24px 28px 24px; min-width:0;">
            <h1 style="font-size:2.3rem; font-weight:800; color:#800020; margin-bottom:24px; text-align:left; font-family:'Fredoka One', 'Comic Neue', Arial, sans-serif;">Duyurular</h1>
            <table id="duyurularTable" style="width:100%; border-collapse:collapse; background:#fff; color:#800020; font-size:1.13rem; border-radius:14px; overflow:hidden; box-shadow:0 2px 12px #80002011;">
                <thead>
                    <tr style="background:#f8e6ef;">
                        <th style="padding:16px 18px; border-bottom:1.5px solid #e0b7c6; font-weight:700; font-size:1.15rem; text-align:left;">Tarih</th>
                        <th style="padding:16px 18px; border-bottom:1.5px solid #e0b7c6; font-weight:700; font-size:1.15rem; text-align:left;">Duyuru Başlığı</th>
                        <th style="padding:16px 18px; border-bottom:1.5px solid #e0b7c6; font-weight:700; font-size:1.15rem; text-align:left;">Kısa Açıklama</th>
                        <th style="padding:16px 18px; border-bottom:1.5px solid #e0b7c6; font-weight:700; font-size:1.15rem; text-align:left;">Resim</th>
                    </tr>
                </thead>
                <tbody id="duyurularContainer">
                    <!-- Duyurular API'den dinamik olarak yüklenecek -->
                </tbody>
            </table>
            <div style="margin-top:18px; font-size:0.98rem; color:#800020; opacity:0.75; font-style:italic;">_Okulumuzdaki güncel duyuruları burada bulabilirsiniz. Takipte kalın!_</div>
        </div>
        <!-- Etkinlikler -->
        <div style="flex:1; background:#fff; border-radius:18px; box-shadow:0 2px 12px #80002018; padding:40px 24px 28px 24px; min-width:0;">
            <h1 style="font-size:2.3rem; font-weight:800; color:#800020; margin-bottom:24px; text-align:left; font-family:'Fredoka One', 'Comic Neue', Arial, sans-serif;">Etkinlikler</h1>
            <table id="etkinliklerTable" style="width:100%; border-collapse:collapse; background:#fff; color:#800020; font-size:1.13rem; border-radius:14px; overflow:hidden; box-shadow:0 2px 12px #80002011;">
                <thead>
                    <tr style="background:#f8e6ef;">
                        <th style="padding:16px 18px; border-bottom:1.5px solid #e0b7c6; font-weight:700; font-size:1.15rem; text-align:left;">Tarih</th>
                        <th style="padding:16px 18px; border-bottom:1.5px solid #e0b7c6; font-weight:700; font-size:1.15rem; text-align:left;">Etkinlik Adı</th>
                        <th style="padding:16px 18px; border-bottom:1.5px solid #e0b7c6; font-weight:700; font-size:1.15rem; text-align:left;">Açıklama</th>
                        <th style="padding:16px 18px; border-bottom:1.5px solid #e0b7c6; font-weight:700; font-size:1.15rem; text-align:left;">Konum</th>
                    </tr>
                </thead>
                <tbody id="etkinliklerContainer">
                    <!-- Etkinlikler API'den dinamik olarak yüklenecek -->
                </tbody>
            </table>
            <div style="margin-top:18px; font-size:0.98rem; color:#800020; opacity:0.75; font-style:italic;">_Yaklaşan etkinliklerimizi kaçırmayın!_</div>
        </div>
    </section>

    <!-- Fotoğraf Galerisi -->
    <section class="gallery-section">
        <div class="gallery-grid">
            <img src="/images/Park1.webp" alt="Park" class="gallery-img">
            <img src="/images/Bina2.webp" alt="Bina 2" class="gallery-img">
            <img src="/images/Sınıf1.webp" alt="Sınıf 1" class="gallery-img">
            <img src="/images/Sınıf2.webp" alt="Sınıf 2" class="gallery-img">
        </div>
        <div class="gallery-caption">Anaokulumuzdan kareler...</div>
    </section>

    <!-- Duyurular Bölümü -->
    <!-- Bu bölüm kaldırıldı, yukarıya taşındı ve yeniden tasarlandı -->
</div>

<!-- Footer ana kapsayıcının DIŞINDA -->
<footer class="footer">
    <div class="footer-content" style="color: #fff;">
        <div class="footer-contact" style="color: #fff;">
            <a href="https://www.google.com/maps?rlz=1C1ZOUM_trTR1162TR1162&gs_lcrp=EgZjaHJvbWUqBggAEEUYOzIGCAAQRRg7MhMIARAuGIMBGMcBGLEDGNEDGIAEMgYIAhBFGDkyDQgDEAAYgwEYsQMYgAQyDQgEEAAYgwEYsQMYgAQyBggFEEUYPTIGCAYQRRg9MgYIBxBFGDzSAQgxNjI1ajBqN6gCALACAA&um=1&ie=UTF-8&fb=1&gl=tr&sa=X&geocode=KUvb8P3ewXZAMV3wDX_8Brub&daddr=Cumhuriyet,+158.+Sk.+no:18,+23170+Elazığ+Merkez/Elazığ" target="_blank" style="color: #fff;"><i class="fas fa-map-marker-alt"></i> Cumhuriyet, 158. Sk. no:18, 23170 Elazığ Merkez/Elazığ</a>
            <a href="tel:05073104117" style="color: #fff;"><i class="fas fa-phone"></i> 0507 310 41 17</a>
            <a href="https://www.instagram.com/bilgekasifleranaokulu/" target="_blank" style="color: #fff;"><i class="fab fa-instagram"></i> <span style="color: #fff;">&#64;bilgekasifleranaokulu</span></a>
        </div>
        <div class="footer-copyright" style="color: #fff;">© 2025 Bilge Kaşifler Anaokulu. Tüm hakları saklıdır.</div>
    </div>
</footer>

<!-- Font Awesome CDN for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

<script>
@section Scripts {
    <script>
        // HERO BG fonksiyonunu yoruma al
        /*
        let current = 1;
        const total = 3;
        function updateHeroBg() {
            document.querySelector('.hero-bg-1').style.opacity = (current === 1) ? '1' : '0';
            document.querySelector('.hero-bg-2').style.opacity = (current === 2) ? '1' : '0';
            document.querySelector('.hero-bg-3').style.opacity = (current === 3) ? '1' : '0';
        }
        updateHeroBg();
        setInterval(() => {
            current = current % total + 1;
            updateHeroBg();
        }, 5000);
        */

        // Duyuruları API'den çekip tabloya doldur
        function loadDuyurular() {
            fetch('/api/Duyuru')
                .then(response => response.json())
                .then(data => {
                    const container = document.getElementById('duyurularContainer');
                    if (!Array.isArray(data) || data.length === 0) {
                        container.innerHTML = '<tr><td colspan="4" style="padding:18px; text-align:center; color:#800020;">Henüz duyuru eklenmedi.</td></tr>';
                        return;
                    }
                    container.innerHTML = data.map(duyuru => `
                        <tr>
                            <td style='padding:14px 18px; border-bottom:1px solid #f3dbe6; font-weight:600;'>${new Date(duyuru.yayinTarihi || duyuru.YayinTarihi).toLocaleDateString('tr-TR', { day: '2-digit', month: 'long' })}</td>
                            <td style='padding:14px 18px; border-bottom:1px solid #f3dbe6;'>${duyuru.baslik || duyuru.Baslik}</td>
                            <td style='padding:14px 18px; border-bottom:1px solid #f3dbe6;'>${(duyuru.icerik || duyuru.Icerik).length > 40 ? (duyuru.icerik || duyuru.Icerik).substring(0, 40) + '...' : (duyuru.icerik || duyuru.Icerik)}</td>
                            <td style='padding:14px 18px; border-bottom:1px solid #f3dbe6;'>${(duyuru.resimUrl || duyuru.ResimUrl) ? `<img src='${duyuru.resimUrl || duyuru.ResimUrl}' alt='Duyuru Resmi' style='max-width:60px; max-height:60px;'>` : '-'}</td>
                        </tr>
                    `).join('');
                })
                .catch(() => {
                    document.getElementById('duyurularContainer').innerHTML = '<tr><td colspan="4" style="padding:18px; text-align:center; color:#800020;">Duyurular yüklenemedi.</td></tr>';
                });
        }

        // Etkinlikleri API'den çekip tabloya doldur
        function loadEtkinlikler() {
            fetch('/api/Etkinlik')
                .then(response => response.json())
                .then(data => {
                    const container = document.getElementById('etkinliklerContainer');
                    const aktifEtkinlikler = data.filter(e => e.aktif === true || e.Aktif === true);
                    if (!Array.isArray(data) || aktifEtkinlikler.length === 0) {
                        container.innerHTML = '<tr><td colspan="4" style="padding:18px; text-align:center; color:#800020;">Henüz etkinlik eklenmedi.</td></tr>';
                        return;
                    }
                    container.innerHTML = aktifEtkinlikler.map(etkinlik => `
                        <tr>
                            <td style='padding:14px 18px; border-bottom:1px solid #f3dbe6; font-weight:600;'>${new Date(etkinlik.tarih || etkinlik.Tarih).toLocaleDateString('tr-TR', { day: '2-digit', month: 'long' })}</td>
                            <td style='padding:14px 18px; border-bottom:1px solid #f3dbe6;'>${etkinlik.baslik || etkinlik.Baslik}</td>
                            <td style='padding:14px 18px; border-bottom:1px solid #f3dbe6;'>${(etkinlik.aciklama || etkinlik.Aciklama).length > 40 ? (etkinlik.aciklama || etkinlik.Aciklama).substring(0, 40) + '...' : (etkinlik.aciklama || etkinlik.Aciklama)}</td>
                            <td style='padding:14px 18px; border-bottom:1px solid #f3dbe6;'>${etkinlik.konum || etkinlik.Konum || '-'}</td>
                        </tr>
                    `).join('');
                })
                .catch(() => {
                    document.getElementById('etkinliklerContainer').innerHTML = '<tr><td colspan="4" style="padding:18px; text-align:center; color:#800020;">Etkinlikler yüklenemedi.</td></tr>';
                });
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadDuyurular();
            loadEtkinlikler();
        });
    </script>
}
